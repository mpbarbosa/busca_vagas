# Workflow Directories Documentation

**Purpose**: Clarify the distinction between different workflow-related directories in the project.

**Date**: 2025-12-22  
**Version**: 1.0.0

## Overview

This document explains the purpose and distinction between the various workflow and automation directories in the Busca Vagas API project.

## Directory Structure

```
busca_vagas/
‚îú‚îÄ‚îÄ .ai_workflow/           # AI assistant automation files (not committed)
‚îÇ   ‚îú‚îÄ‚îÄ logs/              # Execution logs of AI workflows
‚îÇ   ‚îú‚îÄ‚îÄ backlog/           # Backlog and pending tasks
‚îÇ   ‚îî‚îÄ‚îÄ summaries/         # Workflow summaries
‚îÇ
‚îú‚îÄ‚îÄ prompts/               # AI prompts and workflow definitions
‚îÇ   ‚îî‚îÄ‚îÄ [workflow scripts]
‚îÇ
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îú‚îÄ‚îÄ workflows/         # Workflow documentation
‚îÇ   ‚îî‚îÄ‚îÄ workflow-automation/  # Reserved (empty)
‚îÇ
‚îî‚îÄ‚îÄ src/
    ‚îî‚îÄ‚îÄ (no workflow/ directory - this is API code)
```

## Directory Purposes

### `.ai_workflow/` - AI Automation Runtime Files

**Purpose**: Storage for runtime files generated by AI workflow automations

**Contains**:
- **logs/**: Detailed execution logs organized by workflow run
  - Directory per execution: `workflow_YYYYMMDD_HHMMSS/`
  - Step-by-step execution logs
  - Error logs and debugging information
  
- **backlog/**: Tasks and items identified during workflow execution
  - Pending tasks to be addressed
  - Issues found requiring attention
  - Follow-up items
  
- **summaries/**: Consolidated reports of workflow executions
  - Summary of actions taken
  - Results and metrics
  - Generated documentation

**Key Characteristics**:
- ‚úÖ **Auto-generated**: Created automatically by AI tools
- ‚úÖ **Gitignored**: Added to `.gitignore` - NEVER commit
- ‚úÖ **Temporary**: Can be deleted without affecting project
- ‚úÖ **Local only**: Each developer has their own
- ‚úÖ **Machine-readable**: JSON/YAML format

**Example Structure**:
```
.ai_workflow/
‚îî‚îÄ‚îÄ logs/
    ‚îî‚îÄ‚îÄ workflow_20251221_200045/
        ‚îú‚îÄ‚îÄ step1_analysis_20251221_200052.log
        ‚îú‚îÄ‚îÄ step2_implementation_20251221_200524.log
        ‚îî‚îÄ‚îÄ step3_validation_20251221_201935.log
```

**When to use**: Never manually - managed by AI automation tools

---

### `prompts/` - Workflow Definitions

**Purpose**: Store reusable AI workflow definitions and prompts

**Contains**:
- Workflow definition files
- AI prompt templates
- Automation scripts
- Workflow configurations

**Key Characteristics**:
- ‚úÖ **Version controlled**: Committed to Git
- ‚úÖ **Reusable**: Can be run multiple times
- ‚úÖ **Shared**: Used by entire team
- ‚úÖ **Human-readable**: Markdown or YAML format
- ‚úÖ **Documentation**: How to run workflows

**Example Files**:
```
prompts/
‚îú‚îÄ‚îÄ code_review_workflow.md
‚îú‚îÄ‚îÄ test_generation_workflow.md
‚îî‚îÄ‚îÄ documentation_audit_workflow.md
```

**When to use**: To define new workflows or update existing ones

---

### `docs/workflows/` - Workflow Documentation

**Purpose**: Human-readable documentation about workflows and processes

**Contains**:
- Workflow execution reports
- Implementation summaries
- Process documentation
- Changelog of workflow results

**Key Characteristics**:
- ‚úÖ **Version controlled**: Committed to Git
- ‚úÖ **Human-readable**: Markdown format
- ‚úÖ **Historical record**: Documents what was done
- ‚úÖ **Reference material**: For team knowledge
- ‚úÖ **Permanent**: Kept for project history

**Example Files**:
```
docs/workflows/
‚îú‚îÄ‚îÄ IMPLEMENTATION_SUMMARY.md
‚îú‚îÄ‚îÄ CHANGELOG_SIMPLESEARCH.md
‚îú‚îÄ‚îÄ DOCUMENTATION_FIXES_CONSOLIDATED.md
‚îî‚îÄ‚îÄ BOOKING_RULES_WORKFLOW_CONTEXT.md
```

**When to use**: To document completed workflows and their results

---

### `docs/workflow-automation/` - Reserved Directory

**Purpose**: Reserved for future workflow automation documentation

**Current Status**: Empty

**Intended Use**:
- Documentation of automation tools
- Guides for creating workflows
- Best practices for automation
- Tool configuration documentation

**Key Characteristics**:
- ‚ö†Ô∏è **Empty**: Not currently used
- ‚ö†Ô∏è **Reserved**: Placeholder for future
- ‚ö†Ô∏è **Optional**: May be populated later

**When to use**: When adding automation tool documentation

---

## Comparison Table

| Directory | Purpose | Committed | Generated | Format | Audience |
|-----------|---------|-----------|-----------|--------|----------|
| `.ai_workflow/` | Runtime files | ‚ùå No | ‚úÖ Auto | JSON/YAML | Machine |
| `prompts/` | Workflow definitions | ‚úÖ Yes | ‚ùå Manual | Markdown | Human/AI |
| `docs/workflows/` | Documentation | ‚úÖ Yes | ü§∑ Both | Markdown | Human |
| `docs/workflow-automation/` | Reserved | N/A | N/A | N/A | N/A |

## Use Cases

### Running an AI Workflow

1. **Input**: Workflow definition from `prompts/`
2. **Execution**: AI tool runs the workflow
3. **Runtime**: Logs stored in `.ai_workflow/logs/`
4. **Output**: Results written to `docs/workflows/`

**Flow**:
```
prompts/workflow.md
    ‚Üì (executed by AI)
.ai_workflow/logs/workflow_*/  (temporary logs)
    ‚Üì (summarized)
docs/workflows/WORKFLOW_RESULT.md  (permanent doc)
```

### Creating a New Workflow

1. Create definition in `prompts/`
2. Test with AI tool
3. Document results in `docs/workflows/`
4. `.ai_workflow/` used automatically during execution

### Debugging a Workflow

1. Check logs in `.ai_workflow/logs/workflow_YYYYMMDD_HHMMSS/`
2. Review step-by-step execution
3. Identify issues in backlog
4. Fix workflow definition in `prompts/`

## Best Practices

### DO ‚úÖ

- **Keep `.ai_workflow/` in `.gitignore`**
- **Commit workflow definitions to `prompts/`**
- **Document results in `docs/workflows/`**
- **Use descriptive names for workflow files**
- **Archive old `.ai_workflow/` directories periodically**

### DON'T ‚ùå

- **Never commit `.ai_workflow/` contents**
- **Don't put sensitive data in workflow logs**
- **Don't manually edit generated files**
- **Don't mix runtime and documentation files**
- **Don't keep `.ai_workflow/` files indefinitely**

## Directory Lifecycle

### .ai_workflow/

```
Created ‚Üí Populated during workflow ‚Üí Can be deleted
   ‚Üì           ‚Üì                          ‚Üì
  Auto     Auto-generated              Safe to remove
```

**Cleanup**: Safe to delete entire `.ai_workflow/` directory at any time

### prompts/

```
Created ‚Üí Updated ‚Üí Committed ‚Üí Reused
   ‚Üì         ‚Üì         ‚Üì          ‚Üì
 Manual   Improved   Version    Shared
                    controlled
```

**Lifecycle**: Permanent, evolves with project

### docs/workflows/

```
Created ‚Üí Reviewed ‚Üí Committed ‚Üí Archived (optional)
   ‚Üì         ‚Üì          ‚Üì           ‚Üì
 Manual   Validated  Historical  Long-term
        or Generated  record      storage
```

**Lifecycle**: Permanent documentation

## File Naming Conventions

### .ai_workflow/

**Pattern**: `workflow_YYYYMMDD_HHMMSS/`
- Timestamp-based
- Auto-generated
- Unique per execution

### prompts/

**Pattern**: `descriptive_name_workflow.md`
- Descriptive, lowercase with underscores
- Ends with `_workflow.md`
- Examples:
  - `code_review_workflow.md`
  - `test_generation_workflow.md`

### docs/workflows/

**Pattern**: `DESCRIPTIVE_NAME_RESULT.md`
- Descriptive, uppercase with underscores
- Purpose-focused names
- Examples:
  - `IMPLEMENTATION_SUMMARY.md`
  - `CHANGELOG_SIMPLESEARCH.md`

## Common Confusions Addressed

### "Why do we have both .ai_workflow/ and docs/workflows/?"

- `.ai_workflow/` = Temporary runtime files (like logs)
- `docs/workflows/` = Permanent documentation (like reports)

### "Should I commit .ai_workflow/?"

**NO** - It's in `.gitignore` for a reason. These are temporary runtime files.

### "Where do I put a new workflow script?"

In `prompts/` if it's a reusable workflow definition.

### "Where do I document what a workflow did?"

In `docs/workflows/` for permanent documentation.

### "What's docs/workflow-automation/ for?"

Reserved for future use. Currently empty.

### "Can I delete .ai_workflow/?"

**YES** - Safe to delete anytime. It will be recreated when workflows run.

## Integration with Other Directories

### Relationship with scripts/

- `scripts/` = Development scripts (setup, test)
- `prompts/` = AI workflow definitions
- Both can trigger automation, but serve different purposes

### Relationship with shell_scripts/

- `shell_scripts/` = Production/operations scripts
- `.ai_workflow/` = AI automation runtime
- Different execution contexts and purposes

### Relationship with docs/

- `docs/workflows/` = Workflow documentation
- `docs/` = General project documentation
- Workflows are a specific documentation category

## Troubleshooting

### .ai_workflow/ is growing too large

**Solution**: Delete old workflow directories. They're not needed after execution.

```bash
# Safe to delete all
rm -rf .ai_workflow/

# Or delete old runs (keep last 5)
cd .ai_workflow/logs
ls -t | tail -n +6 | xargs rm -rf
```

### Can't find workflow logs

**Check**: 
1. Was the workflow recently run?
2. Is `.ai_workflow/` in the correct location?
3. Does the AI tool have write permissions?

### Workflow documentation is missing

**Check**:
1. Was the result documented in `docs/workflows/`?
2. Look for auto-generated files in `.ai_workflow/summaries/`
3. Check if workflow completed successfully

## Future Enhancements

Planned improvements for workflow directories:

1. **Automated cleanup**: Script to purge old `.ai_workflow/` files
2. **Workflow registry**: Index of available workflows in `prompts/`
3. **Template system**: Standardized workflow templates
4. **Metrics tracking**: Workflow execution statistics
5. **Documentation automation**: Auto-generate docs from logs

## Related Documentation

- [Project Structure](./STRUCTURE.md) - Complete directory structure
- [Prompts Directory](../../prompts/README.md) - Workflow definitions (if exists)
- [Workflows Documentation](../workflows/) - Completed workflow results
- [Main README](../../README.md) - Project overview

## Summary

| Need to... | Use Directory | Commit? |
|------------|---------------|---------|
| Define a workflow | `prompts/` | ‚úÖ Yes |
| Run a workflow | `.ai_workflow/` | ‚ùå No |
| Document results | `docs/workflows/` | ‚úÖ Yes |
| Debug execution | `.ai_workflow/logs/` | ‚ùå No |

**Key Principle**: Runtime goes in `.ai_workflow/` (temporary), documentation goes in `docs/workflows/` (permanent).

---

**Document Version**: 1.0.0  
**Last Updated**: 2025-12-22  
**Status**: Active  
**Review**: Quarterly
